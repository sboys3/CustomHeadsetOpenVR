@if(settings && defaults){
<div class="field">
    <div class="section-title">
        <span i18n>Custom Shader</span>
        <app-field-tip i18n-info
            info="Replaces the distortion shader in SteamVR's compositor with a custom one that allows for more customization. This can work with any headset that directly uses SteamVR's compositor." />
    </div>
</div>
@if(defaults.customShader){
<div class="field">
    <div class="title">
        <span i18n>Enable Custom Shader</span>
        <app-field-tip i18n-info
            info="Enables the custom shader. This will replace shaders in SteamVR." />
        <app-reset-button [canReset]="settings.customShader.enable!=defaults.customShader.enable"
            (resetClick)="nested('customShader').resetOption('enable')"></app-reset-button>
    </div>
    <div class="control">
        @if(settings.customShader){
        <mat-slide-toggle [(ngModel)]="settings.customShader.enable"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
        }@else {
        <span i18n>Check driver update and launch SteamVR</span>
        }
    </div>
</div>
@if(settings.customShader.enable){
<div class="field">
    <div class="note">
        <mat-icon class="warn-color" style="vertical-align: middle;">warning</mat-icon><span i18n>This custom shader has the possibility to completely break SteamVR after a future SteamVR update. Valve has no obligation to maintain compatibility with this modification. Disable it if you have issues or compatibility problems.</span>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Enable for Other Native HMDs</span>
        <app-field-tip i18n-info
            info="Enables the custom shader for all other native HMDs that don't have specific toggles at the bottom. This includes all native SteamVR headsets like the Index, Vive, BSB, etc. Non-native SteamVR headsets like the Quest, Pimax, etc will not work." />
        <app-reset-button
            [canReset]="settings.customShader.enableForOther!=defaults.customShader.enableForOther"
            (resetClick)="nested('customShader').resetOption('enableForOther')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.enableForOther"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
@if(defaults.customShader.samplingFilter){
<div class="field">
    <div class="title">
        <span i18n>Filter</span>
        <app-field-tip i18n-info
            info="The sampling filter to use for the custom shader. The default is the standard linear filter, but other options may increase sharpness or reduce aliasing. However these filters increase GPU memory bandwidth usage." />
        <app-reset-button [canReset]="settings.customShader.samplingFilter!=defaults.customShader.samplingFilter"
            (resetClick)="nested('customShader').resetOption('samplingFilter')"></app-reset-button>
    </div>
    <div class="control">
        <mat-select [(ngModel)]="settings.customShader.samplingFilter" (ngModelChange)="saveConfigSettings()">
            <mat-option value="None">None</mat-option>
            <mat-option value="FXAA2CAS">FXAA2 CAS</mat-option>
            <mat-option value="CAS">Contrast Adaptive Sharpen</mat-option>
            <mat-option value="FXAA2">FXAA2</mat-option>
            <mat-option value="LumaSharpen">Luma Sharpen</mat-option>
            <mat-option value="NearestNeighbor">Nearest Neighbor</mat-option>
        </mat-select>
    </div>
</div>
}
@if(settings.customShader.samplingFilter == 'FXAA2'){
<div class="field">
    <div class="title">
        <span i18n>FXAA2 Sharpen Strength</span>
        <app-field-tip i18n-info
            info="Strength of the FXAA2 sharpening effect. Higher values produce more sharpening." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterFXAA2SharpenStrength!=defaults.customShader.samplingFilterFXAA2SharpenStrength"
            (resetClick)="nested('customShader').resetOption('samplingFilterFXAA2SharpenStrength')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.samplingFilterFXAA2SharpenStrength" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="5.0" min="0.0" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.samplingFilterFXAA2SharpenStrength"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>FXAA2 Sharpen Clamp</span>
        <app-field-tip i18n-info
            info="Limits maximum amount of sharpening a pixel receives. Lower values reduce artifacts at the cost of some sharpness." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterFXAA2SharpenClamp!=defaults.customShader.samplingFilterFXAA2SharpenClamp"
            (resetClick)="nested('customShader').resetOption('samplingFilterFXAA2SharpenClamp')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.samplingFilterFXAA2SharpenClamp" step="0.005"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="0.3" min="0.0" step="0.005" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.samplingFilterFXAA2SharpenClamp"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
}
@if(settings.customShader.samplingFilter == 'FXAA2CAS'){
<div class="field">
    <div class="title">
        <span i18n>FXAA2 CAS Strength</span>
        <app-field-tip i18n-info
            info="Strength of the FXAA 2CAS sharpening effect. Higher values produce more sharpening." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterFXAA2CASStrength!=defaults.customShader.samplingFilterFXAA2CASStrength"
            (resetClick)="nested('customShader').resetOption('samplingFilterFXAA2CASStrength')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.samplingFilterFXAA2CASStrength" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="2.0" min="0.0" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.samplingFilterFXAA2CASStrength"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>FXAA2 CAS Contrast</span>
        <app-field-tip i18n-info
            info="Contrast of the FXAA2 CAS sharpening effect. Higher values increase the sharpness of the image." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterFXAA2CASContrast!=defaults.customShader.samplingFilterFXAA2CASContrast"
            (resetClick)="nested('customShader').resetOption('samplingFilterFXAA2CASContrast')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.samplingFilterFXAA2CASContrast" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="1.0" min="0.0" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.samplingFilterFXAA2CASContrast"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
}
@if(settings.customShader.samplingFilter == 'LumaSharpen'){
<div class="field">
    <div class="title">
        <span i18n>Luma Sharpen Strength</span>
        <app-field-tip i18n-info
            info="Strength of the sharpening effect. Higher values produce more sharpening." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterLumaSharpenStrength!=defaults.customShader.samplingFilterLumaSharpenStrength"
            (resetClick)="nested('customShader').resetOption('samplingFilterLumaSharpenStrength')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.samplingFilterLumaSharpenStrength" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="5.0" min="0.1" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.samplingFilterLumaSharpenStrength"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Luma Sharpen Clamp</span>
        <app-field-tip i18n-info
            info="Limits maximum amount of sharpening a pixel receives. Lower values reduce artifacts at the cost of some sharpness." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterLumaSharpenClamp!=defaults.customShader.samplingFilterLumaSharpenClamp"
            (resetClick)="nested('customShader').resetOption('samplingFilterLumaSharpenClamp')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.samplingFilterLumaSharpenClamp" step="0.005"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="0.3" min="0.0" step="0.005" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.samplingFilterLumaSharpenClamp"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Luma Sharpen Pattern</span>
        <app-field-tip i18n-info
            info="The sample pattern to use for the sharpening effect. Different patterns produce slightly different results." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterLumaSharpenPattern!=defaults.customShader.samplingFilterLumaSharpenPattern"
            (resetClick)="nested('customShader').resetOption('samplingFilterLumaSharpenPattern')"></app-reset-button>
    </div>
    <div class="control">
        <mat-select [(ngModel)]="settings.customShader.samplingFilterLumaSharpenPattern" (ngModelChange)="saveConfigSettings()">
            <mat-option [value]="0">Fast</mat-option>
            <mat-option [value]="1">Normal</mat-option>
            <mat-option [value]="2">Wider</mat-option>
            <mat-option [value]="3">Pyramid shaped</mat-option>
        </mat-select>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Luma Sharpen Radius</span>
        <app-field-tip i18n-info
            info="Radius of the sampling pattern. Higher values produce a wider effect. 1.0 is best in most cases, but higher values may help some blurry content." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterLumaSharpenRadius!=defaults.customShader.samplingFilterLumaSharpenRadius"
            (resetClick)="nested('customShader').resetOption('samplingFilterLumaSharpenRadius')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.samplingFilterLumaSharpenRadius" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="6.0" min="0.1" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.samplingFilterLumaSharpenRadius"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
}
@if(settings.customShader.samplingFilter == 'CAS'){
<div class="field">
    <div class="title">
        <span i18n>CAS Strength</span>
        <app-field-tip i18n-info
            info="The strength of the CAS filter. Higher values produce a sharper image." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterCASStrength!=defaults.customShader.samplingFilterCASStrength"
            (resetClick)="nested('customShader').resetOption('samplingFilterCASStrength')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.samplingFilterCASStrength" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="2.0" min="0.1" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.samplingFilterCASStrength"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>CAS Contrast</span>
        <app-field-tip i18n-info
            info="The contrast of the CAS filter. Higher values increase the sharpness of the image." />
        <app-reset-button
            [canReset]="settings.customShader.samplingFilterCASContrast!=defaults.customShader.samplingFilterCASContrast"
            (resetClick)="nested('customShader').resetOption('samplingFilterCASContrast')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.samplingFilterCASContrast" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="1.0" min="0.0" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.samplingFilterCASContrast"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
}
<div class="field">
    <div class="title">
        <span i18n>Contrast</span>
        <app-field-tip i18n-info
            info="Adjusts the contrast of the image. When higher than 50, the colors in the image will be expanded away from the midpoint. When lower than 50, the colors in the image will be contracted towards the midpoint." />
        <app-reset-button
            [canReset]="settings.customShader.contrast!=defaults.customShader.contrast"
            (resetClick)="nested('customShader').resetOption('contrast')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.contrast" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="100" min="1" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.contrast"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Contrast Midpoint</span>
        <app-field-tip i18n-info
            info="Adjusts the midpoint of the contrast. This controls the center of the contrast adjustment. For example when this is 100 all colors will move towards or away from white. When this is 0 all colors will move towards or away from black, which gives a brightening or darkening effect." />
        <app-reset-button
            [canReset]="settings.customShader.contrastMidpoint!=defaults.customShader.contrastMidpoint"
            (resetClick)="nested('customShader').resetOption('contrastMidpoint')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.contrastMidpoint" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="100" min="0" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.contrastMidpoint"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Linear Contrast</span>
        <app-field-tip i18n-info
            info="Applies linear contrast to the image before gamma correction instead of after Generally contrast looks better with this option off but it can be useful for some effects." />
        <app-reset-button
            [canReset]="settings.customShader.contrastLinear!=defaults.customShader.contrastLinear"
            (resetClick)="nested('customShader').resetOption('contrastLinear')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.contrastLinear"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Per Eye Contrast</span>
        <app-field-tip i18n-info
            info="Applies contrast to each eye separately which allows you to correct for differences in displays. This will be applied in addition to the above contrast." />
        <app-reset-button
            [canReset]="settings.customShader.contrastPerEye!=defaults.customShader.contrastPerEye"
            (resetClick)="nested('customShader').resetOption('contrastPerEye')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.contrastPerEye"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
@if(settings.customShader.contrastPerEye){
<div class="field">
    <div class="title">
        <span i18n>Linear Per Eye Contrast</span>
        <app-reset-button
            [canReset]="settings.customShader.contrastPerEyeLinear!=defaults.customShader.contrastPerEyeLinear"
            (resetClick)="nested('customShader').resetOption('contrastPerEyeLinear')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.contrastPerEyeLinear"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Contrast Left Eye</span>
        <app-reset-button
            [canReset]="settings.customShader.contrastLeft!=defaults.customShader.contrastLeft"
            (resetClick)="nested('customShader').resetOption('contrastLeft')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.contrastLeft" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="100" min="1" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.contrastLeft"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Contrast Midpoint Left Eye</span>
        <app-reset-button
            [canReset]="settings.customShader.contrastMidpointLeft!=defaults.customShader.contrastMidpointLeft"
            (resetClick)="nested('customShader').resetOption('contrastMidpointLeft')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.contrastMidpointLeft" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="100" min="0" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.contrastMidpointLeft"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Contrast Right Eye</span>
        <app-reset-button
            [canReset]="settings.customShader.contrastRight!=defaults.customShader.contrastRight"
            (resetClick)="nested('customShader').resetOption('contrastRight')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.contrastRight" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="100" min="1" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.contrastRight"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Contrast Midpoint Right Eye</span>
        <app-reset-button
            [canReset]="settings.customShader.contrastMidpointRight!=defaults.customShader.contrastMidpointRight"
            (resetClick)="nested('customShader').resetOption('contrastMidpointRight')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.contrastMidpointRight" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="100" min="0" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.contrastMidpointRight"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
}
<div class="field">
    <div class="title">
        <span i18n>Chroma</span>
        <app-field-tip i18n-info
            info="Adjusts the chroma of the image. When higher than 50, the colors in the image will be exaggerated. When lowered all the way to 0 the image will be grayscale." />
        <app-reset-button [canReset]="settings.customShader.chroma!=defaults.customShader.chroma"
            (resetClick)="nested('customShader').resetOption('chroma')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.chroma" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="100" min="0" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.chroma"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Gamma</span>
        <app-field-tip i18n-info
            info="Adjusts the gamma of the image. This controls brightness is mapped to the display's brightness. Higher gamma values make darker areas of the image brighter." />
        <app-reset-button [canReset]="settings.customShader.gamma!=defaults.customShader.gamma"
            (resetClick)="nested('customShader').resetOption('gamma')"></app-reset-button>
    </div>
    <div class="control">
        <input matInput [(ngModel)]="settings.customShader.gamma" step="0.1"
            (ngModelChange)="saveConfigSettings()" type="number">
        <mat-slider max="4" min="0.1" step="0.1" showTickMarks>
            <input matSliderThumb [(ngModel)]="settings.customShader.gamma"
                (ngModelChange)="saveConfigSettings()">
        </mat-slider>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Subpixel Shift</span>
        <app-field-tip i18n-info
            info="Samples subpixels from the correct locations in the image to improve sharpness by lighting up individual subpixels. This can have a remarkable effect on the MeganeX where it can extract detail from more than 300% of the 1:1 resolution. The Vive is also supported but the improvement is less noticeable." />
        <app-reset-button [canReset]="settings.customShader.subpixelShift!=defaults.customShader.subpixelShift"
            (resetClick)="nested('customShader').resetOption('subpixelShift')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.subpixelShift"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Disable Mura Correction</span>
        <app-field-tip i18n-info
            info="This forcibly disables the mura correction on any headset that has it like the Vive." />
        <app-reset-button [canReset]="settings.customShader.disableMuraCorrection!=defaults.customShader.disableMuraCorrection"
            (resetClick)="nested('customShader').resetOption('disableMuraCorrection')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.disableMuraCorrection"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Disable Black Levels</span>
        <app-field-tip i18n-info
            info="Forces the black level clamp to be disabled. This can make headsets like the Vive darker at the expense of more smearing." />
        <app-reset-button [canReset]="settings.customShader.disableBlackLevels!=defaults.customShader.disableBlackLevels"
            (resetClick)="nested('customShader').resetOption('disableBlackLevels')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.disableBlackLevels"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>sRGB Color Correction</span>
        <app-field-tip i18n-info
            info="Enables sRGB color correction. The MeganeX is a Display-P3 display and normally colors are oversaturated by mapping the srgb outputs of applications to the full color space. When this is enabled, only the srgb portion of the display is used, which can make colors look more accurate." />
        <app-reset-button [canReset]="settings.customShader.srgbColorCorrection!=defaults.customShader.srgbColorCorrection"
            (resetClick)="nested('customShader').resetOption('srgbColorCorrection')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.srgbColorCorrection"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Lens Color Correction</span>
        <app-field-tip i18n-info
            info="This corrects color uniformity issues created by the lenses. On the MeganeX this fixes the warmer colors in the center of the lenses." />
        <app-reset-button [canReset]="settings.customShader.lensColorCorrection!=defaults.customShader.lensColorCorrection"
            (resetClick)="nested('customShader').resetOption('lensColorCorrection')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.lensColorCorrection"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>10 Bit Dithering</span>
        <app-field-tip i18n-info
            info="Enables 10 bit dithering. This allows a 10 bit input to be shown on an 8 bit display. Pixels are dithered spatially and temporally to allow more colors to be represented. This works for the MeganeX and all other native headsets but will only have an effect for 10 bit VR applications." />
        <app-reset-button [canReset]="settings.customShader.dither10Bit!=defaults.customShader.dither10Bit"
            (resetClick)="nested('customShader').resetOption('dither10Bit')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.dither10Bit"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>

@if(defaults.customShader.colorMultiplier){
<div class="field">
    <div class="title">
        <span i18n>Color Tint</span>
        <app-field-tip i18n-info
            info="Adjusts the color of the image for any headset that can use the custom shader. This can also be used to decrease or increase the brightness of the scene." />
        <app-reset-button [canReset]="settings.customShader.colorMultiplier.r != defaults.customShader.colorMultiplier.r || settings.customShader.colorMultiplier.g != defaults.customShader.colorMultiplier.g || settings.customShader.colorMultiplier.b != defaults.customShader.colorMultiplier.b"
            (resetClick)="nested('customShader').resetOption('colorMultiplier')"></app-reset-button>
    </div>
    <div class="control">
        <app-color-picker style="width: 100%" [(color)]="settings.customShader.colorMultiplier" (colorChange)="saveConfigSettings()">
        </app-color-picker>
    </div>
</div>
}
<div class="field">
    <div class="title">
        <span i18n>Enable for MeganeX 8K</span>
        <app-field-tip i18n-info
            info="Enables the custom shader for the MeganeX 8K." />
        <app-reset-button
            [canReset]="settings.customShader.enableForMeganeX8K!=defaults.customShader.enableForMeganeX8K"
            (resetClick)="nested('customShader').resetOption('enableForMeganeX8K')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.enableForMeganeX8K"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
<div class="field">
    <div class="title">
        <span i18n>Enable for Other HMDs</span>
        <app-field-tip i18n-info
            info="Enables the custom shader for all other HMDs. Non-native SteamVR headsets likely won't work yet." />
        <app-reset-button
            [canReset]="settings.customShader.enableForOther!=defaults.customShader.enableForOther"
            (resetClick)="nested('customShader').resetOption('enableForOther')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.customShader.enableForOther"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
}
}@else{
<div class="field">
    <div class="note">
        <mat-icon class="warn-color" style="vertical-align: middle;">priority_high</mat-icon><span i18n>You need to update your driver to use the custom shader.</span>
    </div>
</div>
}
<div class="field">
    <div class="section-title">
        <span i18n>General Headset Settings</span>
        <app-field-tip i18n-info
            info="These settings work with any SteamVR headset." />
    </div>
</div>
@if(defaults.takeCompositorScreenshots != undefined){
<div class="field">
    <div class="title">
        <span i18n>Take Compositor Screenshots</span>
        <app-field-tip i18n-info
            info="Makes SteamVR take compositor debug screenshots whenever a normal screenshot is taken. These screenshots are higher resolution and also include the exact output sent to the headset. The folder containing them will open when a screenshot is taken. In some cases standard screenshots do not work with the MeganeX but these are still functional. They are more performance intensive than normal screenshots." />
        <app-reset-button
            [canReset]="settings.takeCompositorScreenshots!=defaults.takeCompositorScreenshots"
            (resetClick)="resetOption('takeCompositorScreenshots')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.takeCompositorScreenshots"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
}
@if(defaults.generalHeadset != undefined){
<div class="field">
    <div class="title">
        <span i18n>Use Vive Bluetooth</span>
        <app-field-note type="steamvrRestart" />
        <app-field-tip i18n-info
            info="Enables the use of the original Vive's link box for any headset to control base stations directly with SteamVR." />
        <app-reset-button
            [canReset]="settings.generalHeadset.useViveBluetooth!=defaults.generalHeadset.useViveBluetooth"
            (resetClick)="nested('generalHeadset').resetOption('useViveBluetooth')"></app-reset-button>
    </div>
    <div class="control">
        <mat-slide-toggle [(ngModel)]="settings.generalHeadset.useViveBluetooth"
            (ngModelChange)="saveConfigSettings()"></mat-slide-toggle>
    </div>
</div>
}
}